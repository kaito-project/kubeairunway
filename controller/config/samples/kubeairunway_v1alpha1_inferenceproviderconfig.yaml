# Example: KAITO provider registration (typically created by kaito-provider controller)
apiVersion: kubeairunway.ai/v1alpha1
kind: InferenceProviderConfig
metadata:
  labels:
    app.kubernetes.io/name: kubeairunway
    app.kubernetes.io/managed-by: kustomize
  name: kaito
spec:
  capabilities:
    engines:
      - vllm
      - llamacpp
    servingModes:
      - aggregated
    cpuSupport: true
    gpuSupport: true
  selectionRules:
    - condition: "!has(spec.resources) || !has(spec.resources.gpu) || spec.resources.gpu.count == 0"
      priority: 100
    - condition: "spec.engine.type == 'llamacpp'"
      priority: 100
  documentation: "https://github.com/kaito-project/kaito-provider"
---
# Example: Dynamo provider registration (typically created by dynamo-provider controller)
apiVersion: kubeairunway.ai/v1alpha1
kind: InferenceProviderConfig
metadata:
  labels:
    app.kubernetes.io/name: kubeairunway
    app.kubernetes.io/managed-by: kustomize
  name: dynamo
spec:
  capabilities:
    engines:
      - vllm
      - sglang
      - trtllm
    servingModes:
      - aggregated
      - disaggregated
    cpuSupport: false
    gpuSupport: true
  selectionRules:
    - condition: "has(spec.resources) && has(spec.resources.gpu) && spec.resources.gpu.count > 0"
      priority: 50
    - condition: "spec.engine.type == 'sglang' || spec.engine.type == 'trtllm'"
      priority: 100
    - condition: "has(spec.serving) && spec.serving.mode == 'disaggregated'"
      priority: 100
  documentation: "https://github.com/kaito-project/dynamo-provider"
---
# Example: KubeRay provider registration (typically created by kuberay-provider controller)
apiVersion: kubeairunway.ai/v1alpha1
kind: InferenceProviderConfig
metadata:
  labels:
    app.kubernetes.io/name: kubeairunway
    app.kubernetes.io/managed-by: kustomize
  name: kuberay
spec:
  capabilities:
    engines:
      - vllm
    servingModes:
      - aggregated
      - disaggregated
    cpuSupport: false
    gpuSupport: true
  selectionRules: []  # KubeRay is never auto-selected
  documentation: "https://github.com/kaito-project/kuberay-provider"
